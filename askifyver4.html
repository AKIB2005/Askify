<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ASKIFY - N.K. Orchid College Assistant</title>
<style>
/* (keeping your full CSS unchanged for design) */
</style>
</head>
<body>
  <!-- unchanged body structure -->

<script>
  /* ===================== DATA ===================== */
  const facultyData = [
    { name: "Dr. B. K. Songe", position: "Principal", qualification: "B.E, M.E, Ph.D (NITK) ¬∑ BEE Certified Energy Manager & Energy Auditor", location: "A-Building, Office Department" },
    { name: "Dr. V. V. Bag", position: "HOD, CSE Department ¬∑ Professor", qualification: "B.Tech (CSE), M.Tech (Computer), Ph.D (Computer Engg)", location: "B-Building, 1st Floor, Left Corner" },
    { name: "Dr. M. B. Patil", position: "Associate Professor ¬∑ HOD of AIDS Department", qualification: "B.E (CSE), M.Tech (CSE), Ph.D (CSE), Postdoc (Singapore Institute of Technology)", location: "C-Building, 2nd Floor, AT-308" },
    { name: "Prof. M. S. Otari", position: "Assistant Professor", qualification: "B.E (CSE), Ph.D (Pursuing)", location: "" },
    { name: "Prof. B. B. Simpi", position: "Assistant Professor", qualification: "B.E (CSE), M.Tech (Data Science)", location: "" },
    { name: "Prof. N. S. Mehta", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "" },
    { name: "Prof. G. R. Shaikh", position: "Assistant Professor", qualification: "B.E (IT), M.E (CSE)", location: "B-Building, 1st Floor, CSE-201 (Project Lab-II)" },
    { name: "Prof. P. C. Bhuyar", position: "Assistant Professor", qualification: "B.E (CSE), M.Tech (CSE)", location: "B-Building, 2nd Floor, Near Operating System Lab" },
    { name: "Prof. G. N. Swami", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "C-Building, 1st Floor, AT-202 (Deep Learning Lab)" },
    { name: "Prof. P. G. Chirmanchode", position: "Assistant Professor", qualification: "B.Tech (CSE), M.Sc (Data Science)", location: "" },
    { name: "Prof. R. D. Joshi", position: "Assistant Professor", qualification: "B.E (CSE), M.Tech (CSE), Ph.D (Pursuing)", location: "" },
    { name: "Prof. S. A. Langote", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "C-Building, 2nd Floor, AT-303 (Faculty Room)" },
    { name: "Prof. G. N. Chandorker", position: "Assistant Professor", qualification: "B.E (IT), M.E (CSE)", location: "C-Building, 1st Floor, AT-209 (AI Lab)" },
    { name: "Prof. T. A. Kamusagi", position: "Assistant Professor", qualification: "B.E (CSE), M.Tech (CSE)", location: "A-Building, 2nd Floor, CSE Dept, CSE-309 Lab" },
    { name: "Prof. B. B. Dhewad", position: "Assistant Professor", qualification: "B.E (ENTC), M.Tech (ML & AI)", location: "" },
    { name: "Prof. U. A. Sangolgi", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "" },
    { name: "Prof. S. G. Sanmukh", position: "Assistant Professor", qualification: "B.E (IT), M.Tech (CSE)", location: "C-Building, 1st Floor, AT-210 (Data Science Lab)" },
    { name: "Prof. R. U. Shinde", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "B-Building, 2nd Floor, CSE-305 (Software Designing Lab)" },
    { name: "Prof. Z. M. Shaikh", position: "Assistant Professor", qualification: "B.E (CSE), M.E (Computer)", location: "" },
    { name: "Prof. S. C. Papade", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE), Ph.D (Pursuing)", location: "A-Building, 2nd Floor, CSE-306 (Computer Programming Lab-1)" },
    { name: "Prof. M. B. Rangdal", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "" },
    { name: "Prof. P. D. Jawalkar", position: "Assistant Professor", qualification: "B.E (CSE), M.E (Computer Engg)", location: "B-Building, 1st Floor, CSE-202 (Computer Programming Lab-2)" },
    { name: "Prof. S. D. Dudhani", position: "Assistant Professor", qualification: "B.E (CSE), M.Tech (CSE)", location: "" },
    { name: "Prof. A. S. Adhatrao", position: "Assistant Professor", qualification: "B.E (CSE), M.E (CSE)", location: "C-Building, 1st Floor, AT-201 (Machine Learning Lab)" },
    { name: "Prof. S. S. Konda", position: "Assistant Professor", qualification: "B.E (IT), M.Tech (CSE)", location: "B-Building, 1st Floor, CSE-203 (Tutorial Room)" },
    { name: "Prof. V. D. Gaikwad", position: "Assistant Professor", qualification: "B.E (CSE), M.Tech (CSE)", location: "B-Building, 1st Floor, CSE-201 (Database Lab)" }
  ];

  const kb = {
    en:{
      greeting:"Hello! I'm Askify, your N.K. Orchid College assistant. How can I help you today?",
      courses:"We offer B.Tech in Computer Science & Engineering with specializations in AI & ML, Data Science, Cyber Security, and IoT.",
      placements:"The college maintains an 85%+ placement rate. Top recruiters include TCS, Infosys, Wipro, Tech Mahindra, and Cognizant.",
      admissions:"Admissions are based on MHT-CET for UG. Apply online via the official website; document verification and counseling follow.",
      labs:"Key labs: AI & ML (AT-201), Deep Learning (AT-202), Data Science (AT-210), Software Designing (CSE-305), Database (CSE-201), and more.",
      faculty:"Here are CSE faculty details:",
      principal:"Principal: Dr. B. K. Songe (Ph.D, NITK) ‚Äî BEE Certified Energy Manager & Auditor.",
      hod:"HOD (CSE): Dr. V. V. Bag ‚Äî B.Tech (CSE), M.Tech (Computer), Ph.D (Computer Engg).",
      default:"Ask about courses, placements, admissions, faculty, or labs."
    },
    hi:{
      greeting:"‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç Askify ‡§π‡•Ç‡§Å, ‡§Ü‡§™‡§ï‡§æ N.K. Orchid College ‡§∏‡§π‡§æ‡§Ø‡§ï‡•§ ‡§Æ‡•à‡§Ç ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?",
      courses:"‡§Ø‡§π‡§æ‡§Å B.Tech (CSE) ‡§ï‡•á ‡§∏‡§æ‡§• AI & ML, Data Science, Cyber Security ‡§î‡§∞ IoT ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û‡§§‡§æ ‡§µ‡§æ‡§≤‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡§Ç‡•§",
      placements:"‡§ï‡•â‡§≤‡•á‡§ú ‡§ï‡§æ ‡§™‡•ç‡§≤‡•á‡§∏‡§Æ‡•á‡§Ç‡§ü ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§¨‡•á‡§π‡§§‡§∞‡•Ä‡§® ‡§π‡•à ‚Äî 85%+ ‡§õ‡§æ‡§§‡•ç‡§∞ TCS, Infosys, Wipro, Tech Mahindra, Cognizant ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      admissions:"‡§™‡•ç‡§∞‡§µ‡•á‡§∂ MHT-CET ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§ß‡§ø‡§ï‡§æ‡§∞‡§ø‡§ï ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§∏‡•á ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡§∞‡•á‡§Ç, ‡§â‡§∏‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú‡§º ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§µ ‡§ï‡§æ‡§â‡§Ç‡§∏‡§≤‡§ø‡§Ç‡§ó ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
      labs:"‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§≤‡•à‡§¨‡•ç‡§∏: AI & ML (AT-201), Deep Learning (AT-202), Data Science (AT-210), Software Designing (CSE-305), Database (CSE-201) ‡§Ü‡§¶‡§ø‡•§",
      faculty:"CSE ‡§µ‡§ø‡§≠‡§æ‡§ó ‡§ï‡•á ‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï:",
      principal:"‡§™‡•ç‡§∞‡§æ‡§ö‡§æ‡§∞‡•ç‡§Ø: Dr. B. K. Songe (NITK) ‚Äî BEE ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§ø‡§§ ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ï ‡§µ ‡§ë‡§°‡§ø‡§ü‡§∞‡•§",
      hod:"‡§µ‡§ø‡§≠‡§æ‡§ó‡§æ‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑ (CSE): Dr. V. V. Bag ‚Äî B.Tech (CSE), M.Tech (Computer), Ph.D (Computer Engg)‡•§",
      default:"‡§ï‡•ã‡§∞‡•ç‡§∏, ‡§™‡•ç‡§≤‡•á‡§∏‡§Æ‡•á‡§Ç‡§ü, ‡§è‡§°‡§Æ‡§ø‡§∂‡§®, ‡§´‡•à‡§ï‡§≤‡•ç‡§ü‡•Ä ‡§Ø‡§æ ‡§≤‡•à‡§¨‡•ç‡§∏ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§"
    },
    mr:{
      greeting:"‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Æ‡•Ä Askify ‚Äî N.K. Orchid College ‡§∏‡§π‡§æ‡§Ø‡•ç‡§Ø‡§ï. ‡§Æ‡•Ä ‡§ï‡§∂‡•Ä ‡§Æ‡§¶‡§§ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡•ã?",
      courses:"‡§Ø‡•á‡§•‡•á B.Tech (CSE) ‡§∏‡•ã‡§¨‡§§ AI & ML, Data Science, Cyber Security ‡§Ü‡§£‡§ø IoT ‡§Æ‡§ß‡•Ä‡§≤ ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏‡§ï‡•ç‡§∞‡§Æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§Ü‡§π‡•á‡§§.",
      placements:"‡§ï‡•â‡§≤‡•á‡§ú‡§ö‡§æ ‡§™‡•ç‡§≤‡•á‡§∏‡§Æ‡•á‡§Ç‡§ü ‡§∞‡•á‡§ï‡•â‡§∞‡•ç‡§° ‡§â‡§§‡•ç‡§ï‡•É‡§∑‡•ç‡§ü ‡§Ü‡§π‡•á ‚Äî 85%+ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä TCS, Infosys, Wipro, Tech Mahindra, Cognizant ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§®‡§ø‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§π‡•ã‡§§‡§æ‡§§.",
      admissions:"‡§™‡•ç‡§∞‡§µ‡•á‡§∂ MHT-CET ‡§ó‡•Å‡§£‡§æ‡§Ç‡§µ‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§. ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü‡§µ‡§∞‡•Ç‡§® ‡§Ö‡§∞‡•ç‡§ú ‡§ï‡§∞‡§æ; ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú ‡§™‡§°‡§§‡§æ‡§≥‡§£‡•Ä ‡§µ ‡§ï‡§æ‡§â‡§®‡•ç‡§∏‡•á‡§≤‡§ø‡§Ç‡§ó ‡§™‡•Å‡§¢‡•á ‡§π‡•ã‡§§‡•á.",
      labs:"‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡§∂‡§æ‡§≥‡§æ: AI & ML (AT-201), Deep Learning (AT-202), Data Science (AT-210), Software Designing (CSE-305), Database (CSE-201) ‡§á.",
      faculty:"CSE ‡§µ‡§ø‡§≠‡§æ‡§ó‡§æ‡§§‡•Ä‡§≤ ‡§™‡•ç‡§∞‡§æ‡§ß‡•ç‡§Ø‡§æ‡§™‡§ï‡§æ‡§Ç‡§ö‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä:",
      principal:"‡§™‡•ç‡§∞‡§æ‡§ö‡§æ‡§∞‡•ç‡§Ø: Dr. B. K. Songe (NITK) ‚Äî BEE ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§‡§æ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ï.",
      hod:"‡§µ‡§ø‡§≠‡§æ‡§ó‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ (CSE): Dr. V. V. Bag ‚Äî B.Tech (CSE), M.Tech (Computer), Ph.D (Computer Engg).",
      default:"‡§ï‡•ã‡§∞‡•ç‡§∏, ‡§™‡•ç‡§≤‡•á‡§∏‡§Æ‡•á‡§Ç‡§ü, ‡§Ö‡•Ö‡§°‡§Æ‡§ø‡§∂‡§®, ‡§´‡•Ö‡§ï‡§≤‡•ç‡§ü‡•Ä ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§≤‡•Ö‡§¨‡§¨‡§¶‡•ç‡§¶‡§≤ ‡§µ‡§ø‡§ö‡§æ‡§∞‡§æ."
    },
    kn:{
      greeting:"‡≤®‡≤Æ‡≤∏‡≥ç‡≤ï‡≤æ‡≤∞! ‡≤®‡≤æ‡≤®‡≥Å Askify ‚Äî ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ N.K. Orchid College ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï. ‡≤®‡≤æ‡≤®‡≥Å ‡≤π‡≥á‡≤ó‡≥Ü ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å?",
      courses:"‡≤á‡≤≤‡≥ç‡≤≤‡≤ø B.Tech (CSE) ‡≤∏‡≤π‡≤ø‡≤§ AI & ML, Data Science, Cyber Security ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å IoT ‡≤µ‡≤ø‡≤∑‡≤Ø‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤µ‡≤ø‡≤∂‡≤ø‡≤∑‡≥ç‡≤ü ‡≤ï‡≥ã‡≤∞‡≥ç‡≤∏‡≥ç‚Äå‡≤ó‡≤≥‡≥Å ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤µ‡≥Ü.",
      placements:"‡≤ï‡≤æ‡≤≤‡≥á‡≤ú‡≤ø‡≤® ‡≤™‡≥ç‡≤≤‡≥á‡≤∏‡≥ç‡≤Æ‡≥Ü‡≤Ç‡≤ü‡≥ç ‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£ 85% ‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤§ ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å. ‡≤™‡≥ç‡≤∞‡≤Æ‡≥Å‡≤ñ ‡≤ï‡≤Ç‡≤™‡≤®‡≤ø‡≤ó‡≤≥‡≥Å: TCS, Infosys, Wipro, Tech Mahindra, Cognizant.",
      admissions:"‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ MHT-CET ‡≤Ü‡≤ß‡≤æ‡≤∞‡≤ø‡≤§. ‡≤Ö‡≤ß‡≤ø‡≤ï‡≥É‡≤§ ‡≤µ‡≥Ü‡≤¨‡≥ç‚Äå‡≤∏‡≥à‡≤ü‡≥ç ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤Ü‡≤®‡≥ç‚Äå‡≤≤‡≥à‡≤®‡≥ç ‡≤Ö‡≤∞‡≥ç‡≤ú‡≤ø ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø; ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤®‡≥Ü ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ï‡≥å‡≤®‡≥ç‡≤∏‡≥Ü‡≤≤‡≤ø‡≤Ç‡≤ó‡≥ç.",
      labs:"‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø ‡≤≤‡≥ç‡≤Ø‡≤æ‡≤¨‡≥ç‚Äå‡≤ó‡≤≥‡≥Å: AI & ML (AT-201), Deep Learning (AT-202), Data Science (AT-210), Software Designing (CSE-305), Database (CSE-201) ‡≤á‡≤§‡≥ç‡≤Ø‡≤æ‡≤¶‡≤ø.",
      faculty:"CSE ‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó‡≤¶ ‡≤Ö‡≤ß‡≥ç‡≤Ø‡≤æ‡≤™‡≤ï‡≤∞‡≥Å:",
      principal:"‡≤™‡≥ç‡≤∞‡≤ø‡≤®‡≥ç‡≤∏‡≤ø‡≤™‡≤≤‡≥ç: Dr. B. K. Songe (Ph.D, NITK) ‚Äî BEE ‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£‡≤ø‡≤§ ‡≤é‡≤®‡≤∞‡≥ç‡≤ú‡≤ø ‡≤Æ‡≥ç‡≤Ø‡≤æ‡≤®‡≥á‡≤ú‡≤∞‡≥ç ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤Ü‡≤°‡≤ø‡≤ü‡≤∞‡≥ç.",
      hod:"‡≤µ‡≤ø‡≤≠‡≤æ‡≤ó ‡≤Æ‡≥Å‡≤ñ‡≥ç‡≤Ø‡≤∏‡≥ç‡≤• (CSE): Dr. V. V. Bag ‚Äî B.Tech (CSE), M.Tech (Computer), Ph.D (Computer Engg).",
      default:"‡≤ï‡≥ã‡≤∞‡≥ç‡≤∏‡≥ç‚Äå‡≤ó‡≤≥‡≥Å, ‡≤™‡≥ç‡≤≤‡≥á‡≤∏‡≥ç‡≤Æ‡≥Ü‡≤Ç‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≥Å, ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂, ‡≤´‡≥ç‡≤Ø‡≤æ‡≤ï‡≤≤‡≥ç‡≤ü‡≤ø ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤≤‡≥ç‡≤Ø‡≤æ‡≤¨‡≥ç‚Äå‡≤ó‡≤≥ ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü ‡≤ï‡≥á‡≤≥‡≤ø."
    },
    te:{
      greeting:"‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç! ‡∞®‡±á‡∞®‡±Å Askify ‚Äî ‡∞Æ‡±Ä N.K. Orchid College ‡∞∏‡∞π‡∞æ‡∞Ø‡∞ï‡±Å‡∞°‡±Å. ‡∞®‡±á‡∞®‡±Å ‡∞é‡∞≤‡∞æ ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞Ø‡∞ó‡∞≤‡∞®‡±Å?",
      courses:"‡∞á‡∞ï‡±ç‡∞ï‡∞° B.Tech (CSE) ‡∞§‡±ã ‡∞™‡∞æ‡∞ü‡±Å AI & ML, Data Science, Cyber Security ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å IoT ‡∞≤‡±ã ‡∞™‡±ç‡∞∞‡∞§‡±ç‡∞Ø‡±á‡∞ï ‡∞ï‡±ã‡∞∞‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø.",
      placements:"‡∞ï‡∞æ‡∞≤‡±á‡∞ú‡±ç ‡∞™‡±ç‡∞≤‡±á‡∞∏‡±ç‚Äå‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç ‡∞∞‡±á‡∞ü‡±ç 85% ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ. ‡∞™‡±ç‡∞∞‡∞Æ‡±Å‡∞ñ ‡∞∞‡∞ø‡∞ï‡±ç‡∞∞‡±Ç‡∞ü‡∞∞‡±ç‡∞≤‡±Å: TCS, Infosys, Wipro, Tech Mahindra, Cognizant.",
      admissions:"‡∞™‡±ç‡∞∞‡∞µ‡±á‡∞∂‡∞æ‡∞≤‡±Å MHT-CET ‡∞Ü‡∞ß‡∞æ‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞ú‡∞∞‡±Å‡∞ó‡±Å‡∞§‡∞æ‡∞Ø‡∞ø. ‡∞Ö‡∞ß‡∞ø‡∞ï‡∞æ‡∞∞‡∞ø‡∞ï ‡∞µ‡±Ü‡∞¨‡±ç‚Äå‡∞∏‡±à‡∞ü‡±ç ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞¶‡∞∞‡∞ñ‡∞æ‡∞∏‡±ç‡∞§‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø; ‡∞§‡∞∞‡±Å‡∞µ‡∞æ‡∞§ ‡∞°‡∞æ‡∞ï‡±ç‡∞Ø‡±Å‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç ‡∞µ‡±Ü‡∞∞‡∞ø‡∞´‡∞ø‡∞ï‡±á‡∞∑‡∞®‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ï‡±å‡∞®‡±ç‡∞∏‡±Ü‡∞≤‡∞ø‡∞Ç‡∞ó‡±ç.",
      labs:"‡∞™‡±ç‡∞∞‡∞ß‡∞æ‡∞® ‡∞≤‡±ç‡∞Ø‡∞æ‡∞¨‡±ç‡∞∏‡±ç: AI & ML (AT-201), Deep Learning (AT-202), Data Science (AT-210), Software Designing (CSE-305), Database (CSE-201) ‡∞Æ‡±ä‡∞¶‡∞≤‡±à‡∞®‡∞µ‡∞ø.",
      faculty:"CSE ‡∞µ‡∞ø‡∞≠‡∞æ‡∞ó‡∞Ç ‡∞Ö‡∞ß‡±ç‡∞Ø‡∞æ‡∞™‡∞ï‡±Å‡∞≤‡±Å:",
      principal:"‡∞™‡±ç‡∞∞‡∞ø‡∞®‡±ç‡∞∏‡∞ø‡∞™‡∞æ‡∞≤‡±ç: Dr. B. K. Songe (Ph.D, NITK) ‚Äî BEE ‡∞∏‡∞∞‡±ç‡∞ü‡∞ø‡∞´‡±à‡∞°‡±ç ‡∞é‡∞®‡∞∞‡±ç‡∞ú‡±Ä ‡∞Æ‡±á‡∞®‡±á‡∞ú‡∞∞‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ü‡∞°‡∞ø‡∞ü‡∞∞‡±ç.",
      hod:"‡∞µ‡∞ø‡∞≠‡∞æ‡∞ó‡∞æ‡∞ß‡∞ø‡∞™‡∞§‡∞ø (CSE): Dr. V. V. Bag ‚Äî B.Tech (CSE), M.Tech (Computer), Ph.D (Computer Engg).",
      default:"‡∞ï‡±ã‡∞∞‡±ç‡∞∏‡±Å‡∞≤‡±Å, ‡∞™‡±ç‡∞≤‡±á‡∞∏‡±ç‚Äå‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç‡∞≤‡±Å, ‡∞Ö‡∞°‡±ç‡∞Æ‡∞ø‡∞∑‡∞®‡±ç, ‡∞´‡±ç‡∞Ø‡∞æ‡∞ï‡∞≤‡±ç‡∞ü‡±Ä ‡∞≤‡±á‡∞¶‡∞æ ‡∞≤‡±ç‡∞Ø‡∞æ‡∞¨‡±ç‚Äå‡∞≤ ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Ö‡∞°‡∞ó‡∞Ç‡∞°‡∞ø."
    }
  };

  /* ===================== DOM HOOKS ===================== */
  const messagesEl = document.getElementById('messages');
  const welcomeEl  = document.getElementById('welcome');
  const inputEl    = document.getElementById('messageInput');
  const sendBtn    = document.getElementById('sendBtn');
  const clearBtn   = document.getElementById('clearBtn');
  const voiceBtn   = document.getElementById('voiceBtn');
  const langSel    = document.getElementById('languageSelect');
  const themeBtn   = document.getElementById('themeBtn');

  let lang = 'en';

  /* ===================== TRANSLATION (HOSTED MODE) ===================== */
  const LT_URL = localStorage.getItem('askify-lt-url') || 'https://libretranslate.de/translate';
  async function translateText(text, targetLang){
    const map = {en:'en',hi:'hi',mr:'mr',kn:'kn',te:'te'};
    const to = map[targetLang] || 'en';
    if(to==='en') return text;
    try{
      const res = await fetch(LT_URL,{
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({q:text, source:'en', target:to, format:'text'})
      });
      const data = await res.json();
      return data.translatedText || text;
    }catch(err){
      console.warn('Translation failed, falling back to English:', err);
      return text;
    }
  }

  /* ===================== SPEECH (TTS) ===================== */
  function speak(text){
    if(!('speechSynthesis' in window)) return;
    window.speechSynthesis.cancel();
    const voices = window.speechSynthesis.getVoices();
    const map = {en:'en-IN',hi:'hi-IN',mr:'mr-IN',kn:'kn-IN',te:'te-IN'};
    const u = new SpeechSynthesisUtterance(String(text).replace(/<[^>]+>/g,''));
    u.lang = map[lang] || 'en-IN';
    u.voice = voices.find(v=>v.lang===u.lang) || voices[0];
    u.rate = 1.02; u.pitch = 1.0; u.volume = 1;
    window.speechSynthesis.speak(u);
  }

  /* ===================== HELPERS ===================== */
  let typingEl;
  function showTyping(){
    if(!typingEl){
      typingEl = document.createElement('div');
      typingEl.className = 'msg bot';
      typingEl.innerHTML = `<div class="avatar bot">ü§ñ</div><div class="bubble">Typing‚Ä¶</div>`;
    }
    messagesEl.appendChild(typingEl);
    messagesEl.parentElement.scrollTop = messagesEl.parentElement.scrollHeight;
  }
  function hideTyping(){ if(typingEl && typingEl.parentNode){ typingEl.parentNode.removeChild(typingEl);} }

  function addMessage(html, who='bot'){
    welcomeEl.style.display='none';
    const wrap = document.createElement('div');
    wrap.className = `msg ${who}`;
    wrap.innerHTML = `
      <div class="avatar ${who}">${who==='bot'?'ü§ñ':'üßë‚Äçüéì'}</div>
      <div class="bubble">${html}</div>
    `;
    messagesEl.appendChild(wrap);
    messagesEl.parentElement.scrollTop = messagesEl.parentElement.scrollHeight;
    if(who==='bot'){ speak(html); }
  }

  function facultyHTML(list=facultyData){
    return list.map(f=>`
      <div class="faculty-card">
        <div class="faculty-name">${f.name}</div>
        <div class="faculty-detail">${f.position}</div>
        <div class="faculty-detail">${f.qualification}</div>
        ${f.location?`<div class="faculty-detail">${f.location}</div>`:""}
      </div>
    `).join('');
  }

  // Core reply logic now uses ENGLISH base, then we translate for UI/voice
  function respond(q){
    const t = kb.en; // always use English as source for translation
    const s = q.toLowerCase();
    if(s.includes('course')) return t.courses;
    if(s.includes('placement')) return t.placements;
    if(s.includes('admission')) return t.admissions;
    if(s.includes('lab')) return t.labs;
    if(s.includes('principal')) return t.principal;
    if(s.includes('hod')) return t.hod;
    if(s.includes('faculty') || s.includes('teacher') || s.includes('prof')){
      return `${t.faculty}<br>${facultyHTML()}`;
    }
    const match = facultyData.find(f => f.name.toLowerCase().includes(s));
    if(match){ return facultyHTML([match]); }
    return t.default;
  }

  /* ===================== EVENTS ===================== */
  async function send(){
    const text = inputEl.value.trim();
    if(!text) return;
    addMessage(text,'user');
    inputEl.value='';

    showTyping();
    // Build English reply, then translate if needed
    const englishReply = respond(text);
    let translated = englishReply;

    // If reply contains faculty cards, only translate the heading before <br>
    if(englishReply.includes('<br>') && englishReply.includes('faculty-card')){
      const [head, rest] = englishReply.split('<br>');
      const headT = await translateText(head, lang);
      translated = `${headT}<br>${rest}`;
    }else{
      translated = await translateText(englishReply, lang);
    }

    hideTyping();
    addMessage(translated,'bot');
  }

  sendBtn.addEventListener('click', send);
  inputEl.addEventListener('keydown', e=>{
    if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); send(); }
  });

  document.querySelectorAll('.qbtn').forEach(b=>{
    b.addEventListener('click', ()=>{ inputEl.value=b.dataset.question; send(); });
  });

  clearBtn.addEventListener('click', ()=>{
    messagesEl.innerHTML=''; welcomeEl.style.display='flex';
  });

  langSel.addEventListener('change', async e=>{
    lang = e.target.value;
    showTyping();
    const greetTranslated = await translateText(kb.en.greeting, lang);
    hideTyping();
    addMessage(greetTranslated,'bot');
    if(rec){
      const map={en:'en-IN',hi:'hi-IN',mr:'mr-IN',kn:'kn-IN',te:'te-IN'};
      rec.lang = map[lang] || 'en-IN';
    }
  });

  // theme toggle with localStorage
  function setTheme(mode){
    document.documentElement.classList.toggle('dark', mode==='dark');
    localStorage.setItem('askify-theme', mode);
    themeBtn.textContent = mode==='dark' ? '‚òÄÔ∏è' : 'üåô';
  }
  const savedTheme = localStorage.getItem('askify-theme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  setTheme(savedTheme);
  themeBtn.addEventListener('click', ()=> setTheme(document.documentElement.classList.contains('dark')?'light':'dark'));

  // voice input (Chrome)
  let rec;
  if('webkitSpeechRecognition' in window){
    rec = new webkitSpeechRecognition();
    rec.lang = 'en-IN'; rec.interimResults=false; rec.maxAlternatives=1;
    rec.onresult = e => { inputEl.value = e.results[0][0].transcript; send(); };
    rec.onend = ()=> voiceBtn.classList.remove('recording');
    voiceBtn.addEventListener('click', ()=>{
      voiceBtn.classList.add('recording'); rec.start();
    });
  } else {
    voiceBtn.disabled = true; voiceBtn.title = "Voice not supported";
  }

  // initial greeting (translated if needed on first load)
  addMessage(kb.en.greeting,'bot');
</script>
</body>
</html>
